% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_thresholds_shallow.R
\name{fit_thresholds_shallow}
\alias{fit_thresholds_shallow}
\title{Fit shallow conditional inference tree thresholds (Singer et al. 2024 style)}
\usage{
fit_thresholds_shallow(
  atf,
  w = 0.75,
  parallel = TRUE,
  max_cores = parallel::detectCores()
)
}
\arguments{
\item{atf}{data.table or data.frame containing aggregated time-series
features. Must include columns: \code{german}, \code{validation} (0/1),
and all ATF predictors (as produced by \code{calculate_atf}).}

\item{w}{numeric, weighting factor for model performance. Default 0.75
(precision weighted 3x higher than recall).}

\item{parallel}{logical, whether to use parallel processing (default TRUE).}

\item{max_cores}{integer, maximum number of cores for parallel processing
(default: \code{parallel::detectCores()}).}
}
\value{
data.table of candidate threshold models per species with columns:
\code{german}, \code{model}, \code{rules}, \code{prec}, \code{recall},
\code{model_performance}.
}
\description{
This function reimplements the "shallow tree" thresholding approach from
Singer et al. (2024). It fits species-specific conditional inference trees
with max depth 1 (type 1 models) and max depth 2 (type 2 models) using
all aggregated time-series features. Candidate models are then evaluated
by precision, recall, and a weighted performance metric.
}
